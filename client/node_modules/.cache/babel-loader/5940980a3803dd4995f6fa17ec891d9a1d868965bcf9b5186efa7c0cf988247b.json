{"ast":null,"code":"import React,{useState}from'react';import ApplicationBlock from'./ApplicationBlock';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ApplicationSection=_ref=>{let{belt,category,items,onUpdate}=_ref;const[newItem,setNewItem]=useState({name:'',requirements:'',subCategory:''});// Group items by subCategory\nconst groupedItems=items.reduce((groups,item,index)=>{const subCat=item.subCategory||'main';if(!groups[subCat]){groups[subCat]=[];}groups[subCat].push({...item,originalIndex:index});return groups;},{});const handleItemUpdate=(originalIndex,updatedItem)=>{const updatedItems=[...items];updatedItems[originalIndex]=updatedItem;onUpdate(updatedItems);};const handleItemRemove=originalIndex=>{const updatedItems=items.filter((_,i)=>i!==originalIndex);onUpdate(updatedItems);};const handleAddItem=function(){let subCategory=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';if(newItem.name.trim()){const item={name:newItem.name.trim(),requirements:newItem.requirements.split('\\n').map(req=>req.trim()).filter(req=>req.length>0)};if(subCategory){item.subCategory=subCategory;}onUpdate([...items,item]);setNewItem({name:'',requirements:'',subCategory:''});}};return/*#__PURE__*/_jsxs(\"div\",{children:[Object.entries(groupedItems).map(_ref2=>{let[subCategory,subItems]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:subCategory!=='main'?'subcategory':'',children:[subCategory!=='main'&&/*#__PURE__*/_jsx(\"div\",{className:\"subcategory-header\",children:subCategory}),subItems.map(item=>/*#__PURE__*/_jsx(ApplicationBlock,{item:item,onUpdate:updatedItem=>handleItemUpdate(item.originalIndex,updatedItem),onRemove:()=>handleItemRemove(item.originalIndex)},item.originalIndex)),/*#__PURE__*/_jsxs(\"div\",{className:\"app-block\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Item name\",value:subCategory==='main'?newItem.name:'',onChange:e=>setNewItem(prev=>({...prev,name:e.target.value}))}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Requirements (one per line)\",value:subCategory==='main'?newItem.requirements:'',onChange:e=>setNewItem(prev=>({...prev,requirements:e.target.value}))}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:()=>handleAddItem(subCategory==='main'?'':subCategory),children:[\"Add \",subCategory==='main'?'Item':`to ${subCategory}`]})]})]},subCategory);}),Object.keys(groupedItems).length>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"subcategory\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"subcategory-header\",children:\"Add New Subcategory\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-block\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Subcategory name\",value:newItem.subCategory,onChange:e=>setNewItem(prev=>({...prev,subCategory:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Item name\",value:newItem.name,onChange:e=>setNewItem(prev=>({...prev,name:e.target.value}))}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Requirements (one per line)\",value:newItem.requirements,onChange:e=>setNewItem(prev=>({...prev,requirements:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:()=>handleAddItem(newItem.subCategory),children:\"Add New Subcategory Item\"})]})]})]});};export default ApplicationSection;","map":{"version":3,"names":["React","useState","ApplicationBlock","jsx","_jsx","jsxs","_jsxs","ApplicationSection","_ref","belt","category","items","onUpdate","newItem","setNewItem","name","requirements","subCategory","groupedItems","reduce","groups","item","index","subCat","push","originalIndex","handleItemUpdate","updatedItem","updatedItems","handleItemRemove","filter","_","i","handleAddItem","arguments","length","undefined","trim","split","map","req","children","Object","entries","_ref2","subItems","className","onRemove","type","placeholder","value","onChange","e","prev","target","onClick","keys"],"sources":["/Users/lloydhird/development/PKSyllabus/client/src/components/ApplicationSection.js"],"sourcesContent":["import React, { useState } from 'react';\nimport ApplicationBlock from './ApplicationBlock';\n\nconst ApplicationSection = ({ belt, category, items, onUpdate }) => {\n  const [newItem, setNewItem] = useState({\n    name: '',\n    requirements: '',\n    subCategory: ''\n  });\n\n  // Group items by subCategory\n  const groupedItems = items.reduce((groups, item, index) => {\n    const subCat = item.subCategory || 'main';\n    if (!groups[subCat]) {\n      groups[subCat] = [];\n    }\n    groups[subCat].push({ ...item, originalIndex: index });\n    return groups;\n  }, {});\n\n  const handleItemUpdate = (originalIndex, updatedItem) => {\n    const updatedItems = [...items];\n    updatedItems[originalIndex] = updatedItem;\n    onUpdate(updatedItems);\n  };\n\n  const handleItemRemove = (originalIndex) => {\n    const updatedItems = items.filter((_, i) => i !== originalIndex);\n    onUpdate(updatedItems);\n  };\n\n  const handleAddItem = (subCategory = '') => {\n    if (newItem.name.trim()) {\n      const item = {\n        name: newItem.name.trim(),\n        requirements: newItem.requirements\n          .split('\\n')\n          .map(req => req.trim())\n          .filter(req => req.length > 0)\n      };\n      \n      if (subCategory) {\n        item.subCategory = subCategory;\n      }\n      \n      onUpdate([...items, item]);\n      setNewItem({ name: '', requirements: '', subCategory: '' });\n    }\n  };\n\n  return (\n    <div>\n      {Object.entries(groupedItems).map(([subCategory, subItems]) => (\n        <div key={subCategory} className={subCategory !== 'main' ? 'subcategory' : ''}>\n          {subCategory !== 'main' && (\n            <div className=\"subcategory-header\">{subCategory}</div>\n          )}\n          \n          {subItems.map((item) => (\n            <ApplicationBlock\n              key={item.originalIndex}\n              item={item}\n              onUpdate={(updatedItem) => handleItemUpdate(item.originalIndex, updatedItem)}\n              onRemove={() => handleItemRemove(item.originalIndex)}\n            />\n          ))}\n          \n          {/* Add new item form for this subcategory */}\n          <div className=\"app-block\">\n            <input\n              type=\"text\"\n              placeholder=\"Item name\"\n              value={subCategory === 'main' ? newItem.name : ''}\n              onChange={(e) => setNewItem(prev => ({ ...prev, name: e.target.value }))}\n            />\n            <textarea\n              placeholder=\"Requirements (one per line)\"\n              value={subCategory === 'main' ? newItem.requirements : ''}\n              onChange={(e) => setNewItem(prev => ({ ...prev, requirements: e.target.value }))}\n            />\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleAddItem(subCategory === 'main' ? '' : subCategory)}\n            >\n              Add {subCategory === 'main' ? 'Item' : `to ${subCategory}`}\n            </button>\n          </div>\n        </div>\n      ))}\n      \n      {/* Add new subcategory section */}\n      {Object.keys(groupedItems).length > 1 && (\n        <div className=\"subcategory\">\n          <div className=\"subcategory-header\">Add New Subcategory</div>\n          <div className=\"app-block\">\n            <input\n              type=\"text\"\n              placeholder=\"Subcategory name\"\n              value={newItem.subCategory}\n              onChange={(e) => setNewItem(prev => ({ ...prev, subCategory: e.target.value }))}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Item name\"\n              value={newItem.name}\n              onChange={(e) => setNewItem(prev => ({ ...prev, name: e.target.value }))}\n            />\n            <textarea\n              placeholder=\"Requirements (one per line)\"\n              value={newItem.requirements}\n              onChange={(e) => setNewItem(prev => ({ ...prev, requirements: e.target.value }))}\n            />\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleAddItem(newItem.subCategory)}\n            >\n              Add New Subcategory Item\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ApplicationSection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}