{"ast":null,"code":"var _jsxFileName = \"/Users/lloydhird/development/PKSyllabus/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport BeltSection from './components/BeltSection';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [syllabusData, setSyllabusData] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n  useEffect(() => {\n    fetchSyllabus();\n  }, []);\n  const fetchSyllabus = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get('/api/syllabus');\n      setSyllabusData(response.data);\n    } catch (error) {\n      console.error('Error fetching syllabus:', error);\n      setMessage('Error loading syllabus data');\n      setMessageType('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const updateSyllabusData = (belt, category, newData) => {\n    setSyllabusData(prev => ({\n      ...prev,\n      [belt]: {\n        ...prev[belt],\n        [category]: newData\n      }\n    }));\n  };\n  const saveSyllabus = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.post('/api/syllabus', syllabusData);\n      setMessage(`Syllabus saved successfully! Backup: ${response.data.backup}`);\n      setMessageType('success');\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error('Error saving syllabus:', error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        setMessage('Authentication required. Please log in.');\n      } else if ((_error$response2 = error.response) !== null && _error$response2 !== void 0 && (_error$response2$data = _error$response2.data) !== null && _error$response2$data !== void 0 && _error$response2$data.details) {\n        setMessage(`Validation error: ${error.response.data.details.join(', ')}`);\n      } else {\n        setMessage('Error saving syllabus');\n      }\n      setMessageType('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading && Object.keys(syllabusData).length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading syllabus data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"PKSyllabus Admin - Edit Syllabus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Edit karate belt grading requirements. Changes are validated and backed up automatically.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `message ${messageType}`,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), Object.entries(syllabusData).map(([belt, categories]) => /*#__PURE__*/_jsxDEV(BeltSection, {\n      belt: belt,\n      categories: categories,\n      onUpdate: updateSyllabusData\n    }, belt, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"save-section\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        onClick: saveSyllabus,\n        disabled: loading,\n        children: loading ? 'Saving...' : 'Save Syllabus'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"iwukcD44dv1UjKqI5fTbs4htVbc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","BeltSection","jsxDEV","_jsxDEV","App","_s","syllabusData","setSyllabusData","loading","setLoading","message","setMessage","messageType","setMessageType","fetchSyllabus","response","get","data","error","console","updateSyllabusData","belt","category","newData","prev","saveSyllabus","post","backup","_error$response","_error$response2","_error$response2$data","status","details","join","Object","keys","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","entries","map","categories","onUpdate","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/lloydhird/development/PKSyllabus/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport BeltSection from './components/BeltSection';\nimport './App.css';\n\nfunction App() {\n  const [syllabusData, setSyllabusData] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n\n  useEffect(() => {\n    fetchSyllabus();\n  }, []);\n\n  const fetchSyllabus = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get('/api/syllabus');\n      setSyllabusData(response.data);\n    } catch (error) {\n      console.error('Error fetching syllabus:', error);\n      setMessage('Error loading syllabus data');\n      setMessageType('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateSyllabusData = (belt, category, newData) => {\n    setSyllabusData(prev => ({\n      ...prev,\n      [belt]: {\n        ...prev[belt],\n        [category]: newData\n      }\n    }));\n  };\n\n  const saveSyllabus = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.post('/api/syllabus', syllabusData);\n      setMessage(`Syllabus saved successfully! Backup: ${response.data.backup}`);\n      setMessageType('success');\n    } catch (error) {\n      console.error('Error saving syllabus:', error);\n      if (error.response?.status === 401) {\n        setMessage('Authentication required. Please log in.');\n      } else if (error.response?.data?.details) {\n        setMessage(`Validation error: ${error.response.data.details.join(', ')}`);\n      } else {\n        setMessage('Error saving syllabus');\n      }\n      setMessageType('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading && Object.keys(syllabusData).length === 0) {\n    return (\n      <div className=\"container\">\n        <div className=\"loading\">Loading syllabus data...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"header\">\n        <h1>PKSyllabus Admin - Edit Syllabus</h1>\n        <p>Edit karate belt grading requirements. Changes are validated and backed up automatically.</p>\n      </div>\n\n      {message && (\n        <div className={`message ${messageType}`}>\n          {message}\n        </div>\n      )}\n\n      {Object.entries(syllabusData).map(([belt, categories]) => (\n        <BeltSection\n          key={belt}\n          belt={belt}\n          categories={categories}\n          onUpdate={updateSyllabusData}\n        />\n      ))}\n\n      <div className=\"save-section\">\n        <button \n          className=\"btn btn-success\" \n          onClick={saveSyllabus}\n          disabled={loading}\n        >\n          {loading ? 'Saving...' : 'Save Syllabus'}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}