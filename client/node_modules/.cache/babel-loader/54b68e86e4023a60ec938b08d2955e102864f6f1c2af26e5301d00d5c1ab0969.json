{"ast":null,"code":"import React,{useMemo}from'react';import PublicApplicationBlock from'./PublicApplicationBlock';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PublicApplicationSection=_ref=>{let{items=[],searchTerm='',currentBelt=''}=_ref;// Process and group items by subCategory\nconst{groupedItems,hasSubCategories}=useMemo(()=>{if(!Array.isArray(items)||items.length===0){return{groupedItems:{},hasSubCategories:false};}const groups=items.reduce((acc,item,index)=>{if(!item)return acc;// Handle both subCategory and category properties\nconst subCat=item.subCategory||item.category||'main';if(!acc[subCat]){acc[subCat]=[];}acc[subCat].push({...item,originalIndex:index,// Ensure isCurrentBelt is always a boolean\nisCurrentBelt:item.isCurrentBelt!==false});return acc;},{});// Check if we have any subcategories (other than 'main')\nconst hasSubs=Object.keys(groups).some(key=>key!=='main');return{groupedItems:groups,hasSubCategories:hasSubs};},[items]);// Handle empty state\nif(!items||items.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{padding:'1.5rem',backgroundColor:'#f8f9fa',borderRadius:'8px',textAlign:'center',color:'#6c757d',border:'1px dashed #dee2e6'},children:/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:\"No items available for this category.\"})});}return/*#__PURE__*/_jsx(\"div\",{style:{width:'100%'},children:Object.entries(groupedItems).map(_ref2=>{let[subCategory,subItems]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:hasSubCategories?'1.5rem':'0.5rem',border:hasSubCategories?'1px solid #e9ecef':'none',borderRadius:'8px',overflow:'hidden',boxShadow:hasSubCategories?'0 2px 4px rgba(0,0,0,0.05)':'none'},children:[subCategory!=='main'&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0.75rem 1rem',backgroundColor:'#f8f9fa',borderBottom:'1px solid #e9ecef',fontWeight:'600',color:'#495057',fontSize:'1.05em',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:subCategory}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.8em',backgroundColor:'#e9ecef',color:'#495057',padding:'0.1em 0.5em',borderRadius:'10px',fontWeight:'normal'},children:[subItems.length,\" item\",subItems.length!==1?'s':'']})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'0.5rem',padding:hasSubCategories?'1rem':'0'},children:subItems.map((item,index)=>/*#__PURE__*/_jsx(PublicApplicationBlock,{item:item,searchTerm:searchTerm,isCurrentBelt:item.isCurrentBelt},`${subCategory}-${index}-${item.originalIndex||index}`))})]},subCategory);})});};export default PublicApplicationSection;","map":{"version":3,"names":["React","useMemo","PublicApplicationBlock","jsx","_jsx","jsxs","_jsxs","PublicApplicationSection","_ref","items","searchTerm","currentBelt","groupedItems","hasSubCategories","Array","isArray","length","groups","reduce","acc","item","index","subCat","subCategory","category","push","originalIndex","isCurrentBelt","hasSubs","Object","keys","some","key","style","padding","backgroundColor","borderRadius","textAlign","color","border","children","margin","width","entries","map","_ref2","subItems","marginBottom","overflow","boxShadow","borderBottom","fontWeight","fontSize","display","alignItems","gap"],"sources":["/Users/lloydhird/development/PKSyllabus/client/src/components/PublicApplicationSection.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport PublicApplicationBlock from './PublicApplicationBlock';\n\nconst PublicApplicationSection = ({ items = [], searchTerm = '', currentBelt = '' }) => {\n  // Process and group items by subCategory\n  const { groupedItems, hasSubCategories } = useMemo(() => {\n    if (!Array.isArray(items) || items.length === 0) {\n      return { groupedItems: {}, hasSubCategories: false };\n    }\n\n    const groups = items.reduce((acc, item, index) => {\n      if (!item) return acc;\n      \n      // Handle both subCategory and category properties\n      const subCat = item.subCategory || item.category || 'main';\n      \n      if (!acc[subCat]) {\n        acc[subCat] = [];\n      }\n      \n      acc[subCat].push({ \n        ...item, \n        originalIndex: index,\n        // Ensure isCurrentBelt is always a boolean\n        isCurrentBelt: item.isCurrentBelt !== false\n      });\n      \n      return acc;\n    }, {});\n\n    // Check if we have any subcategories (other than 'main')\n    const hasSubs = Object.keys(groups).some(key => key !== 'main');\n    \n    return { groupedItems: groups, hasSubCategories: hasSubs };\n  }, [items]);\n\n  // Handle empty state\n  if (!items || items.length === 0) {\n    return (\n      <div style={{\n        padding: '1.5rem',\n        backgroundColor: '#f8f9fa',\n        borderRadius: '8px',\n        textAlign: 'center',\n        color: '#6c757d',\n        border: '1px dashed #dee2e6'\n      }}>\n        <p style={{ margin: 0 }}>No items available for this category.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ width: '100%' }}>\n      {Object.entries(groupedItems).map(([subCategory, subItems]) => (\n        <div \n          key={subCategory} \n          style={{\n            marginBottom: hasSubCategories ? '1.5rem' : '0.5rem',\n            border: hasSubCategories ? '1px solid #e9ecef' : 'none',\n            borderRadius: '8px',\n            overflow: 'hidden',\n            boxShadow: hasSubCategories ? '0 2px 4px rgba(0,0,0,0.05)' : 'none'\n          }}\n        >\n          {subCategory !== 'main' && (\n            <div style={{\n              padding: '0.75rem 1rem',\n              backgroundColor: '#f8f9fa',\n              borderBottom: '1px solid #e9ecef',\n              fontWeight: '600',\n              color: '#495057',\n              fontSize: '1.05em',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem'\n            }}>\n              <span>{subCategory}</span>\n              <span style={{\n                fontSize: '0.8em',\n                backgroundColor: '#e9ecef',\n                color: '#495057',\n                padding: '0.1em 0.5em',\n                borderRadius: '10px',\n                fontWeight: 'normal'\n              }}>\n                {subItems.length} item{subItems.length !== 1 ? 's' : ''}\n              </span>\n            </div>\n          )}\n          \n          <div style={{\n            display: 'grid',\n            gap: '0.5rem',\n            padding: hasSubCategories ? '1rem' : '0'\n          }}>\n            {subItems.map((item, index) => (\n              <PublicApplicationBlock\n                key={`${subCategory}-${index}-${item.originalIndex || index}`}\n                item={item}\n                searchTerm={searchTerm}\n                isCurrentBelt={item.isCurrentBelt}\n              />\n            ))}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default PublicApplicationSection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}